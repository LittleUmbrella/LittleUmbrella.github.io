<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head id="Head1" runat="server">
    <title>DnD</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, width=device-width" />


    <link href="css/circleverseBase.css" rel="stylesheet" type="text/css" />
    <link href="css/circleverse.css" rel="stylesheet" type="text/css" />
    <link href="css/style.css" rel="stylesheet" />
    
    <link href="css/flaticon.css" rel="stylesheet" />
    <link href="css/font.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
    <style type="text/css">
        body {
            background-color: #1E2730;
        }
        div {
            word-wrap: break-word;
        }

            div.instruction p {
                color: #666;
                margin: 0;
            }

            div.instruction.large p {
                font-size: 500%;
            }

            div.instruction.medium p {
                font-size: 400%;
            }

        .hidden {
            display: none;
        }

        .blockElement, .blockPage
        {
	        /*border: 3px solid black;
	        width: 100%;
	        height: 100%;*/
            min-height: 40px;
            min-width: 40px;
            height:auto !important;
            /*min-width: 40px;
            width:auto !important;*/
	        background-image: url('../media/img/loading_flower_wh.gif');
	        background-repeat: no-repeat;
	        background-position: center center;
        }
    </style>

    <!--[if lt IE 9]>
<style type="text/css">
.circle
{
     /*behavior: url(css/PIE.htc);*/

}

</style>
<![endif]-->

</head>

<body>
    <div class="screen">

        <div id="canvasloader-container" style="display: none;"></div>
        <div class="instruction sequence container" style="position: absolute; left: 30%; top: 45%;">
            <div id="Div3" class="hidden instruction sequence medium" style="float: left;">
                <p>click</p>
            </div>
            <div id="Div6" class="hidden instruction sequence medium" style="float: left;">
                <p>, drag</p>
            </div>
            <div id="Div7" class="hidden instruction sequence medium" style="float: left;">
                <p>, drop</p>
            </div>
        </div>
        <div id="servicesTitle" class="hidden instruction large" style="position: absolute; left: 5px; top: 115px;">
            <p>services</p>
        </div>
        <div id="Div1" class="hidden instruction medium" style="position: absolute; left: 75px; top: 85%;">
            <p>settings</p>
        </div>
        <div id="Div2" class="hidden instruction medium" style="position: absolute; left: 45%; top: 80%;">
            <p>help</p>
        </div>
        <div id="Div4" class="hidden instruction medium" style="position: absolute; left: 60%; top: 115px;">
            <p>favorite services</p>
        </div>
        <div id="Div5" class="hidden instruction medium" style="position: absolute; left: 85%; top: 115px;">
            <p>login</p>
        </div>

       
        
        <script type="text/html" id="interactiveTool">
            <div data-bind="dragdrop: $data,
                visible: showMe,
                style: {
                    'width': (dimensions().width) + 'px'
                , 'height': (dimensions().height) + 'px'
                , 'top': (location().top) + 'px'
                , 'left': (location().left) + 'px'
                },
        css: mainCss, 
            dropAvailable: {data: isAvailable, css: 'available'}, onTop: onTop"
                class="drag drop circle tool backgroundCenter refresh ">

                <!-- ko if: isA(becu_org.ui.viewModel.labelModule) && labelData().isReady -->               
                    <!-- ko template: { name: 'circleTextTemplate', data: labelData } --><!-- /ko -->
                <!-- /ko -->
                <!-- ko template: { name: contentTemplate } --><!-- /ko -->
            </div>
        </script>
        
        <script type="text/html" id="standAloneTool">
            <div data-bind="dragdrop: $data,
                visible: showMe,
                style: {
                    'width': (dimensions().width) + 'px'
                , 'height': (dimensions().height) + 'px'
                , 'top': (location().top) + 'px'
                , 'left': (location().left) + 'px'
                },
        css: mainCss, 
            dropAvailable: {data: isAvailable, css: 'available'}, 
            onTop: onTop
                , event: { 'click': function (data, e) { toggleMainForm(); e.cancelBubble = true; if (e.stopPropagation) e.stopPropagation(); return false }, dblclickBubble: false }
                , 'tap': function (data, e) { toggleMainForm(); e.cancelBubble = true; if (e.stopPropagation) e.stopPropagation(); return false }, dblclickBubble: false "
                class="drag drop circle tool form-entry backgroundCenter settings">

                <!-- ko if: isA(becu_org.ui.viewModel.labelModule) && labelData().isReady -->               
                    <!-- ko template: { name: 'circleTextTemplate', data: labelData } --><!-- /ko -->
                <!-- /ko -->
                <!-- ko template: { name: contentTemplate } --><!-- /ko -->
            </div>
        </script>

        <!-- ko foreach: childViewModels -->

<!-- ko template: 'genericChildTemplate' -->
        <!-- /ko -->
        <!-- /ko -->

        

       
        <!-- ko foreach: tools -->
            <!-- ko ifnot: typeof toggleMainForm == 'undefined' -->
                <!-- ko template: 'standAloneTool' --><!-- /ko -->
            <!-- /ko -->

            <!-- ko if: typeof toggleMainForm == 'undefined'  -->
                <!-- ko template: 'interactiveTool' --><!-- /ko -->
            <!-- /ko -->
        <!-- /ko -->
        
        <ul id="log" style="position: absolute; left: 500px;"></ul>


        <!--*********************

                    VALIOUS FORMS

                    *********************
            -->

        <!-- ko with: filterFormViewModel -->
        <form action="/" method="post" onsubmit="return false" id="filterForm" data-bind="center: $data, drag: $data, visible: showMe, onTop: showMe" class="drag drop form-container center" style="display:none;">
            <div>
                                    <a href="javascript:;" data-bind="click: toggleFormVisibility" class="close-button icon-close"></a>
                                  <i data-bind="css: filterableIcon" class="icon icon-fw icon-rotate-320 filterable-icon filterable-icon-1"></i>
                <i data-bind="css: filterableIcon2" class="icon icon-fw filterable-icon filterable-icon-2"></i>
                <i data-bind="css: filterableIcon3" class="icon icon-fw icon-rotate-40 filterable-icon filterable-icon-3" ></i>
                  <i data-bind="css: filterIcon" class="icon filter-icon"></i>
                    <i data-bind="css: filterableIconFiltered" class="icon fa-fw filterable-icon filterable-icon-filtered icon-rotate-320"></i>

                                <input type="text" class="filter" data-bind="value: basicFilter, valueUpdate: 'afterkeydown'" placeholder="Enter filter text..."/>

                </div>
        </form>
        <!-- /ko -->

        <!-- ko with: moneyTransferViewModel -->
        <form action="/" method="post" onsubmit="return false" data-bind="center: $data, drag: $data, visible: showMe, onTop: showMe" class="drag drop form-container center transfer" style="display:none;">
              <a href="javascript:;" data-bind="click: toggleVisibility" class="close-button icon-close"></a>


            <!-- ko template: 'accountTransferTemplate' -->

            <!-- /ko -->
        </form>
        <!-- /ko -->
        <!-- ko with: settingsViewModel -->
        <form action="/" method="post" id="settingsForm" data-bind="center: $data, drag: $data, visible: showForm, onTop: showForm, submit: close" class="drag drop form-container center" style="display:none;">
            <div
                class="" style="background-position: 50% 5%;">
                                    <a href="javascript:;" data-bind="click: toggleMainForm" class="close-button icon-close"></a>
                <!-- ko forEachProperty: appSettings -->
                    <!-- ko template: 'settingsTemplate' -->

                    <!-- /ko -->
                
                <!-- /ko -->
            </div>
            <!--<a href="#" data-bind="click: close" class="button button-blue">
                <span>OK</span>
            </a>-->
            <input type="submit" style="width:0;height:0"/>

        </form>
        <!-- /ko -->

        <!-- ko foreach: allMemberCards().allMemberCards -->            
            <!-- ko template: { name: 'genericChildTemplate' } --><!-- /ko -->
        <!-- /ko -->
        
        <!-- ko foreach: allMemberInfoFormsViewModel().allCustomerInfosViewModel -->

            <div data-bind="busy: isBusy, center: $data, drag: $data, visible: showForm, onTop: showForm" class="drag drop form-container center customer-info" style="display: none;">
                <a href="javascript:;" data-bind="click: toggleMainForm" class="close-button icon-close"></a>

                          <div data-bind="style: {
                              'background-image': 'url(' + memberIcon() + ')'
                          }" class="circle person member-form center-container-fixed">
                          </div>


                <div style="float:left;padding:10px;">
                    <div style="float:left;padding:10px;text-align: left;">
                      <i class="icon-user"></i>
                    </div>
                    <div style="float:left;padding:10px;">
                      <span data-bind="text: firstName"></span>
                      <span data-bind="text: lastName"></span>

                    </div>
                    <div class="clear"></div>
                    <div style="float:left;padding:10px;text-align: left;">
                      <i class="icon-address"></i>
                    </div>
                    <div style="float:left;padding:10px;text-align: left;">
                        <div data-bind="text: address"></div>
                    </div>
                    <div class="clear"></div>
                    <div style="float:left;padding:10px;text-align: left;">
                      <i class="icon-envelope"></i>
                    </div>
                    <div style="float:left;padding:10px;text-align: left;">
                        <div data-bind="text: emailAddress"></div>
                    </div>
                    <div class="clear"></div>
                    <div style="float:left;padding:10px;text-align: left;">
                      <i class="icon-mobile"></i>
                    </div>
                    <div style="float:left;padding:10px;text-align: left;">

                        <div data-bind="text: mobilePhone"></div>
                    </div>
                    <div class="clear"></div>
                    <div style="float:left;padding:10px;text-align: left;">
                      <i class="icon-phone"></i>
                    </div>
                    <div style="float:left;padding:10px;text-align: left;">
                        <div data-bind="text: homePhone"></div>
                    </div>
                </div>
                <div class="clear"></div>

            </div>
        <!-- /ko -->


        
        <script type="text/html" id="findMemebersTemplate">
            <form class="customer-info flex-container vertical" action="/" method="post" data-bind="submit: findIndividuals">

                          <!--<div data-bind="style: {
                              'background-image': 'url(' + memberIcon() + ')'
                          }" class="circle person member-form center-container-fixed">
                          </div>-->
                <!--<div class="title">
                    <i class="icon-search icon-size-3x"/>
                          </div>-->

                <div>
                    <div class="row">
                        <div class="col">
                        <i class="icon-user icon-size-2x"></i>
                        </div>
                        <div class="col">
                            <input type="text" id="firstName" data-bind="textInput: firstName" class="question" required/>
                            <label for="firstName">
                                <span>First Name</span>
                            </label>    
                            <i class="bar"></i>                  
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                        <i class="icon-user icon-size-2x"></i>
                        </div>
                        <div class="col">
                            <input type="text" id="lastName" data-bind="textInput: lastName" class="question" required/>
                            <label for="lastName">
                                <span>Last Name</span>
                            </label>    
                            <i class="bar"></i>                  
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                        <i class="icon-profile icon-size-2x"></i>
                        </div>
                        <div class="col">
                            <input type="text" id="taxId" data-bind="textInput: taxId" class="question" required/>
                            <label for="taxId">
                                <span>Tax ID</span>
                            </label>    
                            <i class="bar"></i>                  
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                        <i class="icon-hashtag icon-size-2x"></i>
                        </div>
                        <div class="col">
                            <input type="text" id="id" data-bind="textInput: id" class="question" required/>
                            <label for="id">
                                <span>Person / Org Number</span>
                            </label>
                            <i class="bar"></i>
                        </div>
                        
                    </div>
                </div>
                <input type="submit" class="hidden-submit" formnovalidate />
            </form>
        </script>

        <!--*********************

                    END VARIOUS FORMS

                    *********************
            -->


        <!-- ko foreach: allAccountTransactionsViewModel().accountTransactionsViewModels -->

            <div data-bind="busy: isBusy, center: $data, drag: $data, visible: showForm, onTop: showForm" class="drag drop form-container center account-ransactions" style="display: none;">
                <a href="javascript:;" data-bind="event: { 'click': function (data, e) { toggleMainForm(data, e); e.cancelBubble = true; if (e.stopPropagation) e.stopPropagation() } }
            , 'tap': function (data, e) { toggleMainForm(data, e); e.cancelBubble = true; if (e.stopPropagation) e.stopPropagation() }" class="close-button icon-close"></a>
                <div style="float:left;padding:10px;">
                    <div style="float:left;padding:10px;">

                        <i data-bind="css: accountIconClass"></i>

                    </div>
                    <div style="float:left;padding:10px;text-align: left;">
                        <div data-bind="text: accountName"></div>
                        <div data-bind="text: balance"></div>
                    </div>
                </div>
                <div class="clear"></div>
                <div class="gridStyle" data-bind="koGrid: {
    data: $data.rawModel,
    columnDefs: [{ field: 'transactionDate', displayName: 'Transaction Date' }, { field: 'transactionDescription', displayName: 'Description' }, { field: 'amount', displayName: 'Amount' }]
}" ></div>
            </div>
        <!-- /ko -->
        

        
     
    </div>

    <script type="text/html" id="calculatorTemplate">
        <div data-bind="onTop: onTop, dragdrop: $data
            , fadeToggle: show"
                            class="drag drop amount calc" style="display: none;">




                            <div class="calc-entry">
                                <input type="text" data-bind="value: amount, valueUpdate: 'afterkeydown'" maxlength="40" name="Display" />
                            </div>

                            <div class="clear"></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="seven" data-bind="click: function () { calculator.addDigit.call(calculator, '7'); }"><span>7 </span></a></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="eight" data-bind="click: function () { calculator.addDigit.call(calculator, '8'); }"><span>8 </span></a></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="nine" data-bind="click: function () { calculator.addDigit.call(calculator, '9'); }"><span>9 </span></a></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="mul" data-bind="click: function () { calculator.operate.call(calculator, '*'); }"><span>X</span></a></div>

                            <div class="clear"></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="four" data-bind="click: function () { calculator.addDigit.call(calculator, '4'); }"><span>4</span></a></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="five" data-bind="click: function () { calculator.addDigit.call(calculator, '5'); }"><span>5</span></a></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="six" data-bind="click: function () { calculator.addDigit.call(calculator, '6'); }"><span>6</span></a></div>
                            <div class="calc-button"><a href="#" class="button button-blue" name="div" data-bind="click: function () { calculator.operate.call(calculator, '/'); }"><span>/</span></a></div>

                            <div class="clear"></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="one" data-bind="click: function () { calculator.addDigit.call(calculator, '1'); }"><span>1</span></a></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="two" data-bind="click: function () { calculator.addDigit.call(calculator, '2'); }"><span>2</span></a></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="three" data-bind="click: function () { calculator.addDigit.call(calculator, '3'); }"><span>3</span></a></div>
                            <div class="calc-button"><a href="#" class="button button-blue" name="add" data-bind="click: function () { calculator.operate.call(calculator, '+'); }"><span>+</span></a></div>

                            <div class="clear"></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="plusmin" data-bind="click: function () { calculator.plusMinus.call(calculator); }"><span>-/+</span></a></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="one" data-bind="click: function () { calculator.addDigit.call(calculator, '0'); }"><span>0</span></a></div>

                            <div class="calc-button"><a href="#" class="button button-blue" name="two" data-bind="click: function () { calculator.dot.call(calculator); }"><span>.</span></a></div>
                            <div class="calc-button"><a href="#" class="button button-blue" name="sub" data-bind="click: function () { calculator.operate.call(calculator, '-'); }"><span>-</span></a></div>

                            <div class="clear"></div>
                            <div class="calc-button wide"><a href="#" class="button button-blue" name="AC" data-bind="click: function () { calculator.allClear.call(calculator); } "><span class="wide">CLEAR</span></a></div>
                            <div class="calc-button wide"><a href="#" class="button button-blue" name="result" data-bind="click: function () { calculator.calculate.call(calculator); }"><span class="wide">=</span></a></div>
                            <div class="clear"></div>
                        </div>

        <div class="clear"></div>
    </script>


    <script type="text/html" id="closeAccountTemplate">
        <!--closeAccountTemplate-->
        <p>
                        </p>
                        <div
                            class="" style="padding: 5px 30px 30px 30px;">
                            <p>&nbsp;</p>
                            <span data-bind="text: model().accountNumber()"></span>
                            <span data-bind="format: { value: model().balance, format: 'c' }" style="margin-left: 50px"></span>
                            <hr style="width: 250px;" />
                            <p>
                                <!--
                        <div data-bind="foreach: model().missingFields()">
                            <div data-bind="text: field"></div>
                        </div>-->


                            </p>


                        </div>
                        <div data-bind="visible: !isCurrentMemberAuthorizedToClose()" style="width: 90%; float: left; left: 10px; position: relative;">

                            <div class="container3">
                                <div class="container2">
                                    <div class="container1" style="background: #ff0000 url('/media/img/lock32x32.png') no-repeat right center">
                                        <div class="col1">&nbsp;</div>

                                        <div class="col2"><span data-bind="text: customer.fullName()"></span>is not authorized to close this account due to the following reason: <span data-bind="    text: currentMemberNotAuthorizedToCloseReason"></span></div>

                                    </div>
                                </div>
                            </div>

                            <div class="container3">
                                <div class="container2">
                                    <div class="container1" style="background: #89ffa2 url('/media/img/lock_off32x32.png') no-repeat right center">
                                        <div class="col1">&nbsp;</div>

                                        <div class="col2">
                                            <a href="#" data-bind="click: close" class="">Send
                                            </a><span data-bind="text: customer.fullName() + ' ' + closureForms()[1].name"></span>

                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="container3">
                                <div class="container2">
                                    <div class="container1" style="background: #89ffa2 url('/media/img/future.png') no-repeat right center">
                                        <div class="col1">&nbsp;</div>

                                        <div class="col2">
                                            When the member has signer rights, come back and try again.
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="clear"></div>

                        </div>

                        <div data-bind="visible: isCurrentMemberAuthorizedToClose()">

                            <div class="leftcol-medium">
                                <p>Reason for closing</p>
                            </div>
                            <div class="clear"></div>
                            <div class="leftcol-medium">
                                <select data-bind="options: closeReasonCodes, optionsText: 'reasonCodeDisplayText', optionsCaption: 'Select...'"></select>
                            </div>
                            <div class="clear"></div>

                            <div data-bind="visible: otherPersonsWhoNeedToAuthorizeClosure().length > 0">
                                <div class="fullcol-medium">
                                    <p>There are others on this account that need to approve the closure.  If you have recieved consent, please indicate below.</p>
                                </div>

                                <div class="leftcol-medium">
                                    <p><u>Additional authorization</u> </p>
                                </div>
                                <div class="clear"></div>
                                <div class="fullcol-medium">
                                    <table border="0" style="width: 100%">
                                        <tr>
                                            <th>Name</th>
                                            <th>Signed</th>
                                            <th>Override</th>
                                            <td></td>
                                        </tr>
                                        <!-- ko foreach: otherPersonsWhoNeedToAuthorizeClosure-->
                                        <tr>
                                            <td><span data-bind="text: fullName()"></span></td>
                                            <td>
                                                <input type="checkbox" /></td>
                                            <td>
                                                <input type="checkbox" /></td>
                                            <td><a href="#" class="">Send Form
                                            </a></td>
                                        </tr>
                                        <!-- /ko -->
                                    </table>

                                </div>
                                <div class="clear"></div>


                            </div>


                            <div data-bind="visible: showAutomatedPaymentShedulesHandling">
                                <div class="fullcol-medium">
                                    <p>There are <span data-bind="text: model().paymentSchedules().length"></span>scheduled payments on this account that should be canceled or transferred to another account. <a href="#" data-bind="    infoize: howToManualPaymentShedulesHandling">How?</a> </p>
                                </div>


                            </div>
                            <div data-bind="visible: !showAutomatedPaymentShedulesHandling()">
                            </div>

                        </div>
                        <a href="#" data-bind="click: close" class="button button-blue">
                            <span>OK</span>
                        </a>
                        <a href="#" data-bind="click: function () { hideCloseForm(true); }" class="button button-blue">
                            <span>Cancel</span>
                        </a>
    </script>

    <script type="text/html" id="accountTransferTemplate">
        <!--<div data-bind="foreach: moneyVms"
                            style="border: 0px solid #354555; margin-bottom: 20px; background-color: transparent; padding: 30px; color: #ddd; border-radius: 20px; -moz-border-radius: 20px;"
                            class="entry-form">

                            <div data-bind="drag: $data
            , style: {
                'width': dimension().width + 'px'
                    , 'height': dimension().height + 'px'
                    , 'left': location().left + 'px'
            }"
                                class="drag drop circle money center" style="top: 20px;">
                                <div class="money-container">
                                    <span data-bind="text: '$' + amount()"></span>
                                    <div>
                                        <img src="/media/img/up16x16.png" alt="increase" style="cursor: pointer;" data-bind="click: increase" class="nolink" />
                                        <img src="/media/img/down16x16.png" alt="decrease" style="margin-right: 2px; cursor: pointer;" data-bind="click: decrease" class="nolink" />
                                    </div>

                                </div>
                            </div>

                        </div>-->

                            <!-- ko with: from -->
                            <div class="column">
                                <!-- begin leftcol -->
                                <p data-bind="text: accountNumber"></p>
                                <p data-bind="format: { format: 'c', value: balance }"></p>
                                <p class="preview" data-bind="visible: balance != $parent.fromTransferPreviewAmount(), format: { format: 'c', value: $parent.fromTransferPreviewAmount }"></p>
                                <!-- calculatorVm
                                <div style="float: left; margin-top: 20px;">
                                    <img alt="calculator" data-bind="event: { 'click': function (data, e) { toggleShow(); e.cancelBubble = true; if (e.stopPropagation) e.stopPropagation(); return false }, dblclickBubble: false }, 'tap': function (data, e) { toggleShow(data, e); e.cancelBubble = true; if (e.stopPropagation) e.stopPropagation(); return false }" src="/media/img/calculator5.png" />
                                </div>
                                -->
                            </div>
                            <!-- end leftcol -->
                            <!-- /ko -->

                            <div class="column transfer">

                                <!-- begin centercol -->
                                    <i class="icon-uniE600 transfer-bag amount icon-size-15x"></i>
                                    <i class="icon-coin transfer-dollar amount icon-size-4x"></i>
                                    <i class="icon-long-arrow-right transfer-arrow amount icon-size-2x"></i>




                                <input type="text" class="transfer" placeholder="Amount"
                                    data-bind="value: amountOrDefault, event: { focus: function () { amountHasFocus(true); }, blur: function () { amountHasFocus(false); } }, valueUpdate: 'afterkeydown'" />

                                <br />

                                <a href="#" data-bind="click: transfer" class="button button-blue">
                                    <span>OK</span>
                                </a>
                            </div>
                            <!-- end centercol -->
                            <!-- ko with: to -->
                            <div class="end-column">
                                <!-- begin rightcol -->                                <p data-bind="text: accountNumber"></p>
                                <p data-bind="format: { format: 'c', value: balance }"></p>
                                <p class="preview" data-bind="visible: balance != $parent.toTransferPreviewAmount(), format: { format: 'c', value: $parent.toTransferPreviewAmount }"></p>

                                <!-- end righttcol -->
                            </div>
                            <!-- /ko -->


    </script>

    <script type="text/html" id="pinTemplate">
        <!-- <div data-bind="dragdrop: $data, style: {
                'left': location().left + 'px'
            , 'top': location().top + 'px'
            , 'width': dimensions().width + 'px'
            , 'height': dimensions().height + 'px'
            }
            , busy: isBusy
            , event: { 'click': function (data, e) { togglePin(data, e); e.cancelBubble = true; if (e.stopPropagation) e.stopPropagation(); return false }, dblclickBubble: false }, 'tap': function (data, e) { togglePin(data, e); e.cancelBubble = true; if (e.stopPropagation) e.stopPropagation(); return false }"
                    class="drag drop pin circle"
                    >
                    <i data-bind="css: icon.name, style: { 'line-height': dimensions().height + 'px' }"></i>
                </div> -->
    </script>

    <script type="text/html" id="earthTemplate">
        <!-- ko with: earth -->
            <!-- ko template: 'genericChildTemplate' -->

        <!-- /ko -->
        
        <!-- /ko -->
    </script>


    <!-- REUSABLE TEMPLATES -->


    <script type="text/html" id="genericChildTemplate">
        <!-- ko if: $data.isA(circleverse.viewModel.SpecialViewViewModel) -->

            <!-- ko template: { name: templateName } --><!-- /ko -->
            
        <!-- /ko -->
        <!-- ko ifnot: $data.isA(circleverse.viewModel.SpecialViewViewModel) -->
            <!-- ko if: $data.isA(circleverse.viewModel.SatelliteNavigatorViewModel) -->

                <!-- ko template: { name: 'navigationTemplate' } --><!-- /ko -->
                
            <!-- /ko -->
            <!-- ko ifnot: $data.isA(circleverse.viewModel.SatelliteNavigatorViewModel) -->
                
                <!-- ko if: $data.isA(circleverse.viewModel.centerCircle) -->
                    
                    <!-- ko if: $data.isA(circleverse.viewModel.NavigableSatellite) -->
                        <!-- ko template: { name: 'navigableParentChildTemplate' } --><!-- /ko -->
                    <!-- /ko -->
                    <!-- ko ifnot: $data.isA(circleverse.viewModel.NavigableSatellite) -->
                        <!-- ko template: { name: 'standardParentChildTemplate' } --><!-- /ko -->
                    <!-- /ko -->
                <!-- /ko -->

                <!-- ko ifnot: $data.isA(circleverse.viewModel.centerCircle) -->
                    <!-- ko template: { name: 'standardChildTemplate' } --><!-- /ko -->
                <!-- /ko -->
                
            <!-- /ko -->
        <!-- /ko -->
        
    </script>
    <script type="text/html" id="standardChildTemplate">        
        <div data-bind="busy: isBusy,dragdrop: $data, style: {
                'left': location().left + 'px'
            , 'top': location().top + 'px'
            , 'width': dimensions().width + 'px'
            , 'height': dimensions().height + 'px'

            },
            dropAvailable: {data: isAvailable, css: 'available'},
            css: mainCss
            , visible: showMe, satellitePopInOut: { base: $data.parent, satellite: $data, callback: popAnimationEnded }
            , animatedMove: {satellite: $data, callback: moveEnded, top: move().top, left: move().left}
            , grow: {vm: $data, animationSettings: animationSettings}
            
        , supressDrapPropagation: true
            "
            class="drag drop circle"
            style="display: none;" >
            
            <!-- ko if: isA(becu_org.ui.viewModel.labelModule) && labelData().isReady -->               
                <!-- ko template: { name: 'circleTextTemplate', data: labelData } --><!-- /ko -->
            <!-- /ko -->
            <!-- ko template: { name: 'pinTemplate', data: pinViewModel } --><!-- /ko -->    
            <!-- ko template: { name: contentTemplate } --><!-- /ko -->
            
            <!-- ko if: isA(circleverse.viewModel.satellite) -->   
            <svg>
                <line class="link" x1="location().left" y1="location().top" x2="parent.location().left" y2="parent.location().top" style="stroke-width: 1.73205;"></line>
            </svg>
            <!-- /ko -->
        </div>
    </script>
    <script type="text/html" id="standardParentChildTemplate">        
        <div data-bind="busy: isBusy,
            dragdrop: $data
            , style: {
                'left': location().left + 'px'
            , 'top': location().top + 'px'
            , 'width': dimensions().width + 'px'
            , 'height': dimensions().height + 'px'
            , 'opacity': opacity
            },
            dropAvailable: {data: isAvailable, css: 'available'},
            css: mainCss
            , visible: showMe
            , busy: isBusy
            , onTop: onTop
            , satellitePopInOut: { base: $data.parent, satellite: $data, callback: popAnimationEnded, index: $index() }
            , animatedMove: {satellite: $data, callback: moveEnded, top: move().top, left: move().left}
            , grow: {vm: $data, animationSettings: animationSettings}
        , supressDrapPropagation: true
"
                        class="drag drop circle"
                        style="display: none;">
                          
            <!-- ko template: { name: contentTemplate } --><!-- /ko -->
            
            <!-- ko if: isA(becu_org.ui.viewModel.labelModule) && labelData().isReady -->               
                <!-- ko template: { name: 'circleTextTemplate', data: labelData } --><!-- /ko -->
            <!-- /ko -->
            <!-- ko if: hasChildrenToggled -->
                <!-- ko foreach: childViewModels-->                    
                    <!-- ko template: { name: 'genericChildTemplate' } --><!-- /ko -->
                    
                    <div class="line" data-bind="circleConnection: {vm: $data, 'widthAdjust': connectionWidthAdjustment}, visible: showMe"></div>
                <!-- /ko -->
            <!-- /ko -->
            
        </div>  
    <script type="text/html" id="navigableParentChildTemplate">        
        <div data-bind="busy: isBusy,
            dragdrop: $rawData
            , style: {
                'left': location().left + 'px'
            , 'top': location().top + 'px'
            , 'width': dimensions().width + 'px'
            , 'height': dimensions().height + 'px'
            , 'opacity': opacity
                
            },
            dropAvailable: {data: isAvailable, css: 'available'},
            css: mainCss
            , visible: showMe
            , busy: isBusy
            , pulse: pulse
            , onTop: onTop
            , satellitePopInOut: { disabled: isBeingFiltered, base: $data.parent, satellite: $rawData, callback: popAnimationEnded, index: $index() }
            , animatedMove: {satellite: $data, callback: moveEnded, top: move().top, left: move().left}
            , grow: {vm: $data, animationSettings: animationSettings}
        , supressDrapPropagation: true
"
                        class="drag drop account service circle {size: 100} filterable"
                        style="display: none;">
                        
                        
            <!-- ko template: { name: contentTemplate } --><!-- /ko -->
            
            <!-- ko if: isA(becu_org.ui.viewModel.labelModule) && labelData().isReady -->                
                <!-- ko template: { name: 'circleTextTemplate', data: labelData } --><!-- /ko -->
            <!-- /ko -->
            <!-- ko if: hasChildrenToggled -->
                <!-- ko foreach: childViewModels-->                    
                    <!-- ko template: { name: 'genericChildTemplate' } --><!-- /ko -->
                <!-- /ko -->
            <!-- /ko -->
        </div>
    </script>
    <script type="text/html" id="standardContentTemplate">        
        <i data-bind="css: icon.name, style: { 'line-height': dimensions().height + 'px' }"></i>
    </script>
    <script type="text/html" id="emptyContentTemplate">        
    </script>
    <script type="text/html" id="BecuViewModelContentTemplate">
              
        FI      
    </script>
    <script type="text/html" id="accountViewModelContentTemplate">  
        <div class="flex-container vertical customer-address data">         
            
                    <i data-bind="css: icon.name"></i>

                    <!-- ko with: model -->
                    <div data-bind="text: accountNumber"></div>
                    <div data-bind="format: { format: 'c', value: balance }"></div>
                    <!-- /ko -->
            </div> 
               
    </script>


    <script type="text/html" id="navigationTemplate">
        <div data-bind="
            drag: $data
            , style: {
                'left': location().left + 'px'
            , 'top': location().top + 'px'
            , 'width': dimensions().width + 'px'
            , 'height': dimensions().height + 'px'
            }
            , visible: showMe
            , busy: isBusy
            , onTop: onTop
            , event: { 'click': function (data, e) { e.cancelBubble = true; if (e.stopPropagation) e.stopPropagation() } }
            , 'tap': function (data, e) { e.cancelBubble = true; if (e.stopPropagation) e.stopPropagation() } ,
            satellitePopInOut: {base: $data.parent, satellite: $rawData, callback: popAnimationEnded }
        , supressDrapPropagation: true
"
            class="drag drop account service circle {size: 100} navigator"
            style="background-position: top; display: none;">
            <i data-bind="style: { 'line-height': dimensions().height + 'px' }" class="icon-hand-o-up icon-size-2x"></i>
            <i data-bind="style: { 'line-height': dimensions().height + 'px' }" class="icon-hand-o-down icon-size-2x"></i>
        </div>
    </script>

    <script type="text/html" id="circleTextTemplate">
        <svg class="circleText" data-bind="attr: {'width': width, 'height': height}, visible: showLabel">
            <defs>
                <path data-bind="attr: {'d': path, 'id': id}"></path>
            </defs>
            <!--<circle data-bind="attr: {'cx': width/2, 'cy': width/2, 'r': width/2 * .95}"></circle>-->
            <path data-bind="attr: {'d': path}"></path>
            <text data-bind="html: '<textPath startOffset=&quot;50%&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; xlink:href=&quot;#' + id + '&quot;>' + label + '</textPath>'">
                
            </text>
        </svg>
        <!--<svg height="500" width="100">
            <defs>
                <path d="m2.5,250 a47.5,47.5 0 0 0 95,0" id="curvedTextPath"></path>
            </defs>
            <circle cx="50" cy="250" r="50"></circle>
            <path d="m2.5,250 a47.5,47.5 0 0 0 95,0"></path>
            <text>
                <textPath startOffset="50%" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#curvedTextPath">Hello, world!</textPath>
            </text>
        </svg>-->
    </script>


    <script type="text/html" id="CustomerAddressesViewModelTemplate">       
        <div data-bind="busy: isBusy,
            dragdrop: $data
            , style: {
                'left': location().left + 'px'
            , 'top': location().top + 'px'
            , 'width': dimensions().width + 'px'
            , 'height': dimensions().height + 'px'
            , 'opacity': opacity
            },
            dropAvailable: {data: isAvailable, css: 'available'},
            css: mainCss
            , visible: showMe
            , busy: isBusy
            , onTop: onTop
            , satellitePopInOut: { base: $data.parent, satellite: $data, callback: popAnimationEnded, index: $index() }
            , animatedMove: {satellite: $data, callback: moveEnded, top: move().top, left: move().left}
            , grow: {vm: $data, animationSettings: animationSettings}
        , supressDrapPropagation: true
        , centerRelativeToParent: {width: dimensions().width, 'height': dimensions().height, adjust: adjustLocation}
"
                        class="drag drop circle"
                        style="display: none;">
                          
            <!-- ko template: { name: contentTemplate } --><!-- /ko -->
            
            <!-- ko if: isA(becu_org.ui.viewModel.labelModule) && labelData().isReady -->               
                <!-- ko template: { name: 'circleTextTemplate', data: labelData } --><!-- /ko -->
            <!-- /ko -->
            <!-- ko if: hasChildrenToggled -->
                <!-- ko foreach: childViewModels-->                    
                    <!-- ko template: { name: 'genericChildTemplate' } --><!-- /ko -->
                    
                    <div class="line" data-bind="circleConnection: {vm: $data, 'widthAdjust': connectionWidthAdjustment}, visible: showMe"></div>
                <!-- /ko -->
            <!-- /ko -->
            
        </div>  
    
        
            
        
    </script>

    <script type="text/html" id="mapTemplate">
        <div data-bind="leafletMap: $data, zoom: zoom" class="map">
        </div>

    </script>


    
    
    <script type="text/html" id="CustomerAddressViewModelContentTemplate"> 
        
            
                <!--<span class="flaticon-tool-3 flaticon-size-13x"></span>-->
                <svg class="mailbox" width="245" height="295" xmlns="http://www.w3.org/2000/svg">
                <!-- Created with Method Draw - http://github.com/duopixel/Method-Draw/ -->

                 <g>
  <title>Layer 1</title>
  <line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_5" y2="180" x2="242.75" y1="180" x1="133.75" fill-opacity="null" stroke-opacity="null" stroke-width="1.5" fill="none"></line>
  <line fill="none" stroke-width="1.5" stroke-opacity="null" fill-opacity="null" x1="242.75" y1="180" x2="242.75" y2="90.5" id="svg_2" stroke-linejoin="undefined" stroke-linecap="undefined"></line>
  <path id="svg_4" d="m242.75,90.5l0.5,0c0,-31 -27,-31 -27,-31.5c0,0.5 -182,1.5 -182,1c0,0.5 0,-28.5 0,-29c0,0.5 30.5,0.5 30.5,0c0,0.5 0,-27.5 0,-28c0,0.5 -29,1.5 -29,1" fill-opacity="null" stroke-opacity="null" stroke-width="1.5" fill="none"></path>
  <line fill="none" stroke-width="1.5" stroke-opacity="null" fill-opacity="null" x1="32.75" y1="30.5" x2="33.75" y2="3.5" id="svg_6" stroke-linejoin="null" stroke-linecap="null"></line>
  <line fill="none" stroke-width="1.5" stroke-opacity="null" fill-opacity="null" x1="32.75" y1="116.5" x2="31.75" y2="116.5" id="svg_7" stroke-linejoin="null" stroke-linecap="null"></line>
  <path fill="none" stroke-width="1.5" stroke-opacity="null" fill-opacity="null" d="m33.75,59.5c-31,0 -31,22 -31,21.5c0,0.5 1,99.5 1,99c0,0.5 130,0.5 130,0c0,0.5 -70,0.5 -70,0.5c0,0 -2,-99 -2,-99.5c0,0.5 3,-21.5 -29,-22.5z" id="svg_8"></path>
  <line fill="none" stroke-width="1.5" stroke-opacity="null" fill-opacity="null" x1="19.75" y1="150.5" x2="41.75" y2="150.5" id="svg_9" stroke-linejoin="null" stroke-linecap="null"></line>
 </g>
                </svg>
                <div class="icon-background"></div>
            <div class="flex-container vertical customer-address data">   
                
                <i data-bind="css: icon.secondary.name"> </i>
                <div class="flex-container horizontal">
                    <!--<i class="icon-address icon-size-2x"> </i> &nbsp; -->
                    <!--<div data-bind="visible: $parent.linksCount() > 0"><i class="icon-link icon-size-1x"> </i>:<span data-bind="text: $parent.linksCount"></span></div>-->
                </div>
                <span class="address-owner" data-bind="text: addressOwner().fullName()"></span>
                <!-- ko with: model --> 
                <span data-bind="text: full"></span>
                
                <!-- /ko -->
                
            </div>
    </script>


    
    <script type="text/html" id="MailViewModelTemplate">        
        <div data-bind="busy: isBusy,
            dragdrop: $data
            , style: {
                'left': location().left + 'px'
            , 'top': location().top + 'px'
            , 'width': dimensions().width + 'px'
            , 'height': dimensions().height + 'px'
            , 'opacity': opacity
            },
            dropAvailable: {data: isAvailable, css: 'available'},
            css: mainCss
            , visible: showMe
            , busy: isBusy
            , onTop: onTop
            , satellitePopInOut: { base: $data.parent, satellite: $data, callback: popAnimationEnded, index: $index() }
            , animatedMove: {satellite: $data, callback: moveEnded, top: move().top, left: move().left}
            , grow: {vm: $data, animationSettings: animationSettings}
        , supressDrapPropagation: true
"
                        class="drag drop circle"
                        style="display: none;">
                          
            <!-- ko template: { name: contentTemplate } --><!-- /ko -->
            
            <!-- ko if: isA(becu_org.ui.viewModel.labelModule) && labelData().isReady -->               
                <!-- ko template: { name: 'circleTextTemplate', data: labelData } --><!-- /ko -->
            <!-- /ko -->
            <!-- ko if: hasChildrenToggled -->
                <!-- ko foreach: childViewModels-->                    
                    <!-- ko template: { name: 'genericChildTemplate' } --><!-- /ko -->
                    
                    <div class="line" data-bind="circleConnection: {vm: $data, 'widthAdjust': connectionWidthAdjustment}, visible: showMe"></div>
                <!-- /ko -->
            <!-- /ko -->
            
        </div>     
    </script>

    <script type="text/html" id="MailViewModelContentTemplate">         
        <div class="flex-container vertical data">         
            
            <div class="letter-icon-background"></div>
            <i data-bind="css: icon.name"></i>
            <div class="letter-icon-foreground"></div>
            <div class="flex-container horizontal">
                
            re:&nbsp;<span data-bind="truncatedText: {text: full, length: 8, fromStart: true}"></span>&nbsp;
                <i data-bind="css: icon.secondary.name"></i>
            </div>
        </div>
    </script>




    <script type="text/html" id="CustomerAddressViewModelTemplate"> 

        
        <div data-bind="busy: isBusy,
        dragdrop: $data
        , style: {
            'left': location().left + 'px'
        , 'top': location().top + 'px'
        , 'width': dimensions().width + 'px'
        , 'height': dimensions().height + 'px'
        , 'opacity': opacity
        },
            dropAvailable: {data: isAvailable, css: 'available'},
        css: mainCss
        , visible: showMe
        , busy: isBusy
        , onTop: onTop
        , satellitePopInOut: { base: $data.parent, satellite: $data, callback: popAnimationEnded, index: $index() }
        , animatedMove: {satellite: $data, callback: moveEnded, top: move().top, left: move().left}
        , grow: {vm: $data, animationSettings: animationSettings}
        , leafletPosition: $data
        , supressDrapPropagation: true, fadeThenDelete: {item: $data, arr: $data.parent.childViewModels, remove: deleteNow}
"
                    class="drag drop circle"
                    style="display: none;">
                      
        <div class="line" data-bind="addressConnection: {vm: $data}, visible: showMe
        "></div>
        <!-- ko template: { name: contentTemplate } --><!-- /ko -->
        
        <!-- ko if: isA(becu_org.ui.viewModel.labelModule) && labelData().isReady -->               
            <!-- ko template: { name: 'circleTextTemplate', data: labelData } --><!-- /ko -->
        <!-- /ko -->
        <!-- ko if: hasChildrenToggled -->
            <!-- ko foreach: childViewModels-->                    
                <!-- ko template: { name: 'genericChildTemplate' } --><!-- /ko -->
                
                <div class="line" data-bind="circleConnection: {vm: $data, 'widthAdjust': connectionWidthAdjustment}, visible: showMe"></div>
            <!-- /ko -->
        <!-- /ko -->
        
    </div>  
            </script>
    
    
    <script type="text/html" id="CustomerAddressEditViewModelContentTemplate"> 
        <form class="customer-address-info" data-bind="submit: saveAddress" >
            <div class="row">
                <div class="col">
                    <i class="icon-address icon-size-2x"></i>
                </div>
                <div class="col">
                    <!-- ko template: { name: 'Autofill' } --><!-- /ko -->
                    <input type="text" id="full" data-bind="textInput: address, event: {blur: lostFocus}, hasFocus: focus" class="question" required/>
                    <label for="full">
                        <span>Address</span>
                    </label>    
                    <i class="bar"></i>                 
                </div>
            </div>
            
            <input type="submit" class="hidden-submit" formnovalidate />
        </form>
        <div data-bind="visible: changeAdditional().length > 0">
            <div class="flex-container horizontal">
                Also editing:&nbsp;
            <!-- ko foreach: changeAdditional-->                    
                <span data-bind="text: $data"></span><!-- ko template: { name: 'ListDelimiterTemplate', data: {list: $parent.changeAdditional, index: $index()} } --><!-- /ko -->
            <!-- /ko -->
            </div>
            <div>
            See this address's connections for more details or to disconnect using the Trash action.
            </div>
        </div>
    </script>

    
    <script type="text/html" id="ListDelimiterTemplate">      
        <!-- ko if: ko.unwrap($data.list).length != ($data.index + 1) --> 
            <span data-bind="text: $data.delimiter|| ','"></span>&nbsp;
        <!-- /ko -->
    </script>

    <script type="text/html" id="SearchMembersResultViewModelContentTemplate"> 
        
        <!-- ko with: model --> 
                <div class="flex-grid search-members-result data">
                    <div class="flex-row aligner">
                        <div class="col">
                            <i class="icon-user icon-size-2x"></i>            
                        </div>
                        <div class="col">
                             <span data-bind="truncatedText: {text: name, length: 18}"></span>            
                        </div>
                    </div>
                    
                    <div class="flex-row aligner">
                        <div class="col">
                            <i class="icon-id icon-size-2x"></i>            
                        </div>
                        <div class="col">
                             <span data-bind="truncatedText: {text: taxId, length: 15}"></span>            
                        </div>
                    </div>
                    
                    <div class="flex-row aligner">
                        <div class="col">
                            <i class="icon-birthday-cake icon-size-2x"></i>            
                        </div>
                        <div class="col">
                             <span data-bind="truncatedText: {text: age, length: 16}"></span>            
                        </div>
                    </div>
                </div>
        <!-- /ko -->
    </script>

    <script type="text/html" id="SearchMembersResultsViewModelTemplate"> 
        <div data-bind="busy: isBusy, center: $data, drag: $data         
            , style: {
                'left': location().left + 'px'
            , 'top': location().top + 'px'
            , 'width': dimensions().width + 'px'
            , 'height': dimensions().height + 'px'

            },
            dropAvailable: {data: isAvailable, css: 'available'},
            css: mainCss
            , visible: showMe, satellitePopInOut: { base: $data.parent, satellite: $data, callback: popAnimationEnded }
            , event: { 'click': function (data, e) { e.cancelBubble = true; if (e.stopPropagation) e.stopPropagation() } }
            , 'tap': function (data, e) { e.cancelBubble = true; if (e.stopPropagation) e.stopPropagation() }
            , animatedMove: {satellite: $data, callback: moveEnded, top: move().top, left: move().left}
            , grow: {vm: $data, animationSettings: animationSettings}
        , supressDrapPropagation: true
            " class="drag drop form-container center account-ransactions" style="display: none;">
            <a href="javascript:;" class="close-button icon-close"></a>
                
                <div class="clear"></div>
                <!--<div class="gridStyle" data-bind="koGrid: {
                    data: searchResults,
                    columnDefs: [{ field: 'lastName', displayName: 'Name' }, { field: 'taxId', displayName: 'Tax ID' }, { field: 'dateOfBirth', displayName: 'DOB' }]
                }" ></div>-->
                <!-- ko foreach: searchResults-->  
                    
                <!-- /ko -->
        </div>
    </script>

    <script type="text/html" id="Autofill">
        <ul data-bind="css: autofillMainCss(), visible: results().length > 0, onTop: onTop">
            <!-- ko foreach: results-->  
            <li data-bind="css: $parent.autofillItemCss()">
                <a href='#' data-bind="click: $parent.autofillSelect, css: $parent.autofillSelectCss(), text: $data"></a>
            </li> 
            <!-- /ko -->
          </ul>
    </script>


    <script type="text/html" id="CloseViewModelContentTemplate">
        <div class="tindr close"></div>
    </script>
    
    <script type="text/html" id="OpenViewModelContentTemplate">
        <div class="tindr open"></div>
    </script>

    <script type="text/html" id="addressMapTemplate">
    </script>

    <script type="text/html" id="CustomerAddressViewModelConfirmDeleteTemplate">
        <p>            
            <!-- ko with: model-->
            This will delete the address of <span data-bind="text: vms.CustomerAddressViewModel.address"></span>.
            
            <!-- /ko -->
        </p> 
    </script>

    <script type="text/html" id="MailViewModelConfirmTemplate">
        <p>            
            <!-- ko with: model-->
            This will change the mailing address for <span data-bind="text: vms.MailViewModel.full"></span> to <span data-bind="text: vms.CustomerAddressViewModel.address"></span>.
            
            <!-- /ko -->
        </p> 
    </script>

    <script type="text/html" id="helpViewModelHelpTemplate">
    <p>
Seriously?  You need help with that? </p> 
    </script>

    <script type="text/html" id="CustomerAddressesViewModelHelpTemplate">
    <p>
Here, you can change <i class="icon-pencil"></i> an address <i class="flaticon-tool-3"></i>, delete <i class="icon-trash-o"></i> an address, or change to which address mail <i class="flaticon-tool-7"></i> is sent.</p> 
<h2>Addresses</h2>
<p>
    Addresses are represented by the <i class="flaticon-tool-3"></i> icon.  To edit <i class="icon-pencil"></i> an address, drag the edit <i class="icon-pencil"></i> action to it, or vice versa.  To delete <i class="icon-trash-o"></i> an address, drag it to the trash <i class="icon-trash-o"></i> icon, or vice versa.
    </p> 
<h2>Mail</h2>
<p>
    There are three types of mail: mail related to an account, mail related to taxes, and mail related to everything else (the account owner).  
    </p> 
    <p>
    To change where mail is sent, drag that mail icon <i class="flaticon-tool-7"></i> to the mailbox <i class="flaticon-tool-3"></i> to which you want mail to be sent.  
    </p> 
    </script>

    <script type="text/html" id="appHelpTemplate">
    <p>
We want to tell you a few things about this site, as it's unlike most sites.  It was built as a prototype for a new sort of user interface.  It was built for tablets and for internal staff of a credit union.  The purpose was both to demonstrate the platform itself, and how it could solve a single business function:  staff changing addresses on behalf of members.   </p> 
<p>
    Its basic layout consists of actions, like New <i class="icon-plus"></i> and Delete <i class="icon-trash-o"></i> around the edges of the screen, and generally in the center of the screen are things, like All Members <i class="icon-group"></i>, which you can drag to actions.  These actions turn green when you start dragging something to indicate the action applies to the thing you're dragging.
    </p> 
<p>
    So the idea behind this site is that you accomplish things by interacting with them.  Like traditional sites, it has forms and input fields that you click/touch to activate, but for most things, if you want to open a thing to look at or interact with its details, you drag it to the open <i class="icon-enter"></i> action, and when you are done, you drag it to the close <i class="icon-close2"></i> action.  If you want to edit it, you drag it to the edit <i class="icon-pencil"></i> action.  And when you want to submit it, you drag it to the submit <i class="icon-checkmark"></i> action.
    </p> 
<p>
    There is a help <i class="icon-question"></i> action that you can drag to just about anything to get more information about it. 
    </p> 
    </script>
    <script type="text/html" id="Script2">
    </script>

    <script type="text/html" id="settingsTemplate">
        <div class="leftcol-medium">
            <p data-bind="text: displayTitle"></p>
        </div>
        <div class="rightcol-medium">
            <!-- ko foreach: options-->
            <label>
                <input data-bind="attr: { name: $parent.displayTitle }, checked: $parent.value, checkedValue: value" type="radio" class="radio" /><span data-bind="    text: name" /></label>
            <!-- /ko -->
        </div>
        <div class="clear"></div>
        <!-- ko if: typeof $data.subSettings != 'undefined' --> 
            <!-- ko forEachProperty: subSettings -->
                <!-- ko template: 'settingsTemplate' -->
                <!-- /ko -->            
            <!-- /ko -->
        <!-- /ko -->
    </script>
    <!-- ko foreach: messageVms --> 
        <div data-bind="visible: showMe
        , busy: isBusy
        , onTop: onTop" style="display:none;" class="dialog">
            <div></div>
            <div class="content">                
                <!-- ko template: { name: messageTemplate } --><!-- /ko --> 
            </div>
            <div></div>
        </div>           
    <!-- /ko -->

    
    <!-- ko with: confirmDialogs --> 
    <!-- ko foreach: { data: allDialogs } --> 
        
        <div data-bind="dragdrop: $data,
        visible: showMe
        , busy: isBusy
        ,style: {
                'left': location().left + 'px'
            , 'top': location().top + 'px'
            , 'width': dimensions().width + 'px'
            , 'height': dimensions().height + 'px'

            },
            onTop: onTop,
            fadeInFrom: {fromElement: fromElement, dialogVm: $data}, fadeThenDelete: {item: $data, arr: $data.parent.allDialogs, remove: deleteNow}" style="display:none;" class="dialog drag drop">
            <div class="header"><h1 data-bind="text: title"></h1></div>
            <div class="content">    
                <div class="box">            
                <!-- ko template: { name: messageTemplate } --><!-- /ko -->
                </div> 
            </div>
            <div class="footer horizontal flex-container">
                
                <!-- ko if: type() == 'message' -->
                <div class="left"><i class="flaticon-one-finger-swipe-left-gesture-outlined-hand-symbol"></i> Swipe to Close
                </div>
                <!-- /ko -->
                
                <!-- ko if: type() == 'confirm' -->
                <div class="left"><i class="flaticon-one-finger-swipe-left-gesture-outlined-hand-symbol"></i> Swipe to Cancel
                </div>
                <div class="right">Swipe to Confirm <i class="flaticon-one-finger-swipe-right-gesture-of-hand-stroke-symbol"></i> 
                </div>
                <!-- /ko -->
            </div>
        </div>       
    <!-- /ko -->
    <!-- /ko -->

     
</body>

    <script type="text/javascript">var CUSTOM_VERSION = "1.2.1", JSCLASS_PATH = '/js/external/JS/Class'</script>
    <script src="js/external/JS/Class/loader-browser.tf.js" type="text/javascript"></script>

    <script src="js/load.config.js?v=1.2.1" type="text/javascript"></script>

    <script type="text/javascript">
<!--






    //
    JS.require('jQuery', 'jQuery.fn.block', 'jQuery.fn.available', function () {
       
        $.blockUI.defaults.css = $.extend($.blockUI.defaults.css, { border: 'none', backgroundColor: 'transparent' });
        //$(function () {
        $.blockUI({ message: " " }, null);
        //});

        JS.require('jQuery.migrateWarnings', 'PubSub', 'becu_org.app', 'ko.mapping', 'JSextend', 'JS.Class', 'JS.Console', 'TweenMax', 'jQuery.fn.qtip', 'eaf.util', 'eaf.core', 'jQuery.event.special.dragx', 'jQuery.event.special.dropx', 'littleUmbrella.circleverse.ui.app.bindings',
        'becu_org.ob.services.Repository', 'circleverse.viewModel.garbageViewModel', 'circleverse.viewModel.CloseViewModel', 'circleverse.viewModel.OpenViewModel', 'circleverse.viewModel.SearchViewModel', 'circleverse.viewModel.RefreshViewModel', 'circleverse.viewModel.FilterViewModel', 'circleverse.viewModel.FilterFormViewModel', 'circleverse.viewModel.ExitViewModel', 'circleverse.viewModel.settingsViewModel', 'circleverse.viewModel.favoriteViewModel', 'circleverse.viewModel.helpViewModel', 'circleverse.viewModel.loginViewModel', function () {

            ko.validation.init();

            var getMode = function(){
                var mode = getQueryString()['m'];
                if (mode && mode ==='d') {
                    return "developer";
                }
                else {
                    return "normal";
                }
            }
            $(function () {
                $.unblockUI();


                //https://stackoverflow.com/questions/29008194/disabling-androids-chrome-pull-down-to-refresh-feature
                var lastTouchY = 0;
                var preventPullToRefresh = false;

                $('body').on('touchstart', function (e) {
                    if (e.originalEvent.touches.length != 1) { return; }
                    lastTouchY = e.originalEvent.touches[0].clientY;
                    preventPullToRefresh = window.pageYOffset == 0;
                });

                $('body').on('touchmove', function (e) {
                    var touchY = e.originalEvent.touches[0].clientY;
                    var touchYDelta = touchY - lastTouchY;
                    lastTouchY = touchY;
                    if (preventPullToRefresh) {
                        // To suppress pull-to-refresh it is sufficient to preventDefault the first overscrolling touchmove.
                        preventPullToRefresh = false;
                        if (touchYDelta > 0) {
                            e.preventDefault();
                            return;
                        }
                    }
                });


                //todo: research and decide whether to uncomment
                //$(window).unload(function () { }); // clear ff and safari cache


                //infuser.config.templateUrl = "views";

                $log = $("#log");

                var settings= {width: $(window).width(), height: $(window).height(), store: store, eventAggregator: PubSub, mode: getMode()};
                var app = new becu_org.app(settings);

                var promise = app.preSetup();

                promise.then(function () {
                    //app.setup();
                })
                app.start();



            });

        });
    });
    var $log;
    function log(message) {
        $log["prepend"]("<li>" + message + "</li>");
    }



    function temp(m) { alert(m); }

    //-->
    </script>
    <script src="js/internal/mapbox.secure.js" type="text/javascript">
    </script>

    <!--<link href="css/circleverse.css" rel="stylesheet" type="text/css" />-->
    <!--<link href="css/circleverse_light.css" rel="stylesheet" type="text/css" />-->
    
</html>
